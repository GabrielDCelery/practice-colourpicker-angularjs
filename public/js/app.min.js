console.log("app is running...");var colourPickerApp=angular.module("ColourPickerApp",["ApiFactory","PaletteFactory","PaletteCtrl"]),PaletteCtrl=angular.module("PaletteCtrl",[]);PaletteCtrl.controller("PaletteCtrl",["$scope","ApiFactory","PaletteFactory",function(t,e,a){function r(t){for(var e=0;e<t.length;e++)t[e]=parseInt(t[e]);return t}function o(e,a,r){u=r,t.slider={rgb:[e[0],e[1],e[2]],opacity:a}}function n(e){r(e),t.palette[u].hex=a.rgbToHex(e),t.palette[u].rgb=e;for(var o=t.jsonData[u].tints,n=0;n<o.length;n++){var l=a.tintCalculator(t.palette[u].rgb,o[n]);t.palette[u].tints[n].hex=a.rgbToHex(l),t.palette[u].tints[n].rgb=l}}function l(e){t.palette[u].opacity=e}function c(){var e=angular.copy(t.palette[u]);t.palette.unshift(e),u=0}function i(r){e.getPalette(r,function(e){t.jsonData=e,t.palette=a.createPalette(e),o(t.palette[0].rgb,t.palette[0].opacity,0)})}console.log("palette controller is running..."),t.jsonPalette=[],t.palette=[],t.slider={rgb:[0,0,0],opacity:0};var u=0;t.setSliders=o,t.modifyColour=n,t.modifyOpacity=l,t.duplicateColour=c,t.getPalette=i,i(1)}]);var ApiFactory=angular.module("ApiFactory",[]);ApiFactory.factory("ApiFactory",["$http",function(t){function e(e,a){t.get("https://qbs.arkonline.co.uk/task/colours.json?task="+e).success(a)}return{getPalette:e}}]);var PaletteFactory=angular.module("PaletteFactory",[]);PaletteFactory.factory("PaletteFactory",[function(){function t(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function e(e){return"#"+t(e[0])+t(e[1])+t(e[2])}function a(t,e){for(var a=[],r=0;3>r;r++){var o=t[r]+e[r];0>o&&(o=0),o>255&&(o=255),a[r]=o}return a}function r(t){for(var r=[],o=0;o<t.length;o++){var n={};n.name=t[o].name,n.rgb=t[o].baseColour,n.hex=e(t[o].baseColour),n.opacity=1,n.tints=[];for(var l=0;l<t[o].tints.length;l++){var c={};c.rgb=a(t[o].baseColour,t[o].tints[l]),c.hex=e(c.rgb),n.tints.push(c)}r.push(n)}return r}return{createPalette:r,rgbToHex:e,tintCalculator:a}}]);