console.log("app is running...");var colourPickerApp=angular.module("ColourPickerApp",["ApiFactory","PaletteFactory","ObjectManipulatorFactory","PaletteCtrl"]),PaletteCtrl=angular.module("PaletteCtrl",[]);PaletteCtrl.controller("PaletteCtrl",["$scope","ApiFactory","PaletteFactory","ObjectManipulatorFactory",function(t,e,r,a){function o(e,r,o){p=o,t.slider={rgb:[e[0],e[1],e[2]],opacity:r},t.palette=a.setKeyToTrue(t.palette,"selected",p)}function n(e){t.palette=angular.copy(r.editPalette(t.palette,t.defaultPalette,e,p))}function l(e){t.palette[p].opacity=e}function c(){var e=angular.copy(t.palette[p]);t.palette.unshift(e),p=0,t.palette=a.setKeyToTrue(t.palette,"selected",p)}function u(a){e.getPalette(a,function(e){t.defaultPalette=e,t.palette=r.createPalette(e),o(t.palette[0].rgb,t.palette[0].opacity,0)})}function i(){var e=JSON.stringify(r.createExportable(t.palette));console.log(e)}console.log("palette controller is running..."),t.defaultPalette=[],t.palette=[],t.slider={rgb:[0,0,0],opacity:0};var p=0;t.setSliders=o,t.modifyColour=n,t.modifyOpacity=l,t.duplicateColour=c,t.getPalette=u,t.savePalette=i,u(1)}]);var ApiFactory=angular.module("ApiFactory",[]);ApiFactory.factory("ApiFactory",["$http",function(t){function e(e,r){t.get("https://qbs.arkonline.co.uk/task/colours.json?task="+e).success(r)}return{getPalette:e}}]);var ObjectManipulatorFactory=angular.module("ObjectManipulatorFactory",[]);ObjectManipulatorFactory.factory("ObjectManipulatorFactory",[function(){function t(t,e,r){for(var a=0;a<t.length;a++)a==r?t[a][e]=!0:t[a][e]=!1;return t}function e(t){for(var e=0;e<t.length;e++)t[e]=parseInt(t[e]);return t}return{setKeyToTrue:t,arrayStringElementsToInteger:e}}]);var PaletteFactory=angular.module("PaletteFactory",[]);PaletteFactory.factory("PaletteFactory",["ObjectManipulatorFactory",function(t){function e(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function r(t){return"#"+e(t[0])+e(t[1])+e(t[2])}function a(t,e){for(var r=[],a=0;3>a;a++){var o=t[a]+e[a];0>o&&(o=0),o>255&&(o=255),r[a]=o}return r}function o(t){for(var e=[],o=0;o<t.length;o++){var n={};n.name=t[o].name,n.rgb=t[o].baseColour,n.hex=r(t[o].baseColour),n.opacity=1,n.tints=[],n.selected=!1;for(var l=0;l<t[o].tints.length;l++){var c={};c.rgb=a(t[o].baseColour,t[o].tints[l]),c.hex=r(c.rgb),n.tints.push(c)}e.push(n)}return e}function n(e,o,n,l){n=t.arrayStringElementsToInteger(n),e[l].hex=r(n),e[l].rgb=n;for(var c=o[l].tints,u=0;u<c.length;u++){var i=a(e[l].rgb,c[u]);e[l].tints[u].hex=r(i),e[l].tints[u].rgb=i}return e}function l(t){for(var e=[],r=0;r<t.length;r++){var a={};a.name=t[r].name,a.baseColour=t[r].rgb,a.tints=[];for(var o=0;o<t[r].tints.length;o++){for(var n=[],l=0;3>l;l++)n.push(t[r].tints[o].rgb[l]-t[r].rgb[l]);a.tints.push(n)}e.push(a)}return e}return{createPalette:o,rgbToHex:r,tintCalculator:a,createExportable:l,editPalette:n}}]);